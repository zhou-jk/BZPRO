<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>[Cerc2014] Pork barre</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#4046. [Cerc2014] Pork barre</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：128 MiB</span> <span class="ui label">时间限制：15 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=4046">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4046">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=4046">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>Winning the election was simpler than you expected: it was enough to promise to finally build&nbsp;</div>
<div>a good quality, country-wide road infrastructure, of course without crippling the budget_ Your&nbsp;</div>
<div>happiness did not last long, however: it seems, that the citizens have found a way to actually&nbsp;</div>
<div>hold you accountable for your promise!&nbsp;</div>
<div>There are n major cities in your country. The Ministry of Transport has prepared a detailed&nbsp;</div>
<div>map, outlining m possible highway connections, together with their costs. The Quality Assurance&nbsp;</div>
<div>Committee will not let you build a highway cheaper than l, and the National Spendings&nbsp;</div>
<div>Regulatory Committee will not let you build a highway more expensive than h. To claim a&nbsp;</div>
<div>&quot;country-wide&quot; network, you have to connect (possibly indirectly) as many pairs of cities, as it is&nbsp;</div>
<div>possible within these two constraints. You have to find the cheapest way to do it, and you have&nbsp;</div>
<div>to find it quickly! Of all networks that meet the constraints and connect the most pairs of cities,&nbsp;</div>
<div>compute the cost of the cheapest one.&nbsp;</div>
<div>To make things worse, both committees are heavily influenced by your angry competitors:&nbsp;</div>
<div>each time you publish your hard-prepared plan, they immediatelv change their rulings l and矗，&nbsp;</div>
<div>and vou are forced to start from scratch.&nbsp;</div>
<div>有N个点，M条无向虚边（边还未连接上去），Q组询问，询问格式如下：&nbsp;</div>
<div>对于第一个询问输入2个数L1,H1,表示你要用满足权值L1&lt;=Ai&lt;=H1的所有边来连接点使得能互相通达的点的数量最多。在此条件下，输出最小的权值和C1.&nbsp;对于第i个询问(1&nbsp;</div>
<div>N&lt;=1000, M&lt;=100000, Q&lt;=1000000&nbsp;</div>
<div></div>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>The first line of input contains the number of test cases T. The descriptions of the test cases&nbsp;</div>
<div>
<div>follow:&nbsp;</div>
<div>The first line of each test case contains integers n and m (1&le; n&le; 1000; 0&le; rn&le; 100 000) -&nbsp;</div>
<div>the number of cities in the country, and of possible direct connections, respectively.&nbsp;</div>
<div>Each of the following m lines contains three integers x,y,w (1 &lt; x&ne; y &lt; n; I&le; w&le;&nbsp;</div>
<div>1000 000), denoting that the cities x and y can be connected by a bidirectional highway at cost&nbsp;</div>
<div>w. There might be many ways to connect a single pair of cities.&nbsp;</div>
<div>The following line contains an integer q (1《 q &lt; 1 000 000) - the number of rulings of the&nbsp;</div>
<div>committees. Each of the following q lines contains two integers. The first of the lines contains&nbsp;</div>
<div>the initial rulings 21, hi, given directly. The rest of the rulings are encoded. The numbers in the&nbsp;</div>
<div>j-th of the lines for j &gt; I are lj + Cj_i and hj + cj_i, where lj and hj are the actual rulings and&nbsp;</div>
<div>cj-l is the correct answer for the preceding rulings /j_i and hj_i.&nbsp;</div>
<div>All rulings satisfv I&le; tj&le; hj &lt; 1000 000.&nbsp;</div>
<div></div>
</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>For each test case, output q lines, one for&nbsp;</div>
<div>cost cj of building a highway network which&nbsp;</div>
<div>the maximum number of connected pairs of&nbsp;</div>
<div>each ruling. In the j-th of them, output the minimal&nbsp;</div>
<div>adheres to the committees7 constraints, and creates&nbsp;</div>
<div>cities.</div>
<div></div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>1<br />
5 7<br />
1 2 2<br />
2 3 4<br />
3 4 3<br />
4 5 1<br />
5 1 3<br />
2 5 4<br />
1 4 5<br />
5<br />
1 2<br />
4 7<br />
11 12<br />
11 13<br />
18 19<br />
</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>3<br />
9<br />
8<br />
14<br />
13</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p><div>样例解释：&nbsp;</div><br />
<div>第一组询问1 2，连接1 2 2和4 5 1两条边，总权值为3.因为没有其他边的权值范围在[1,2]了&nbsp;</div><br />
<div>第二组询问4 7，实际询问为4-3=1和7-3=4，即[1,4]，最终连接1 2 2, 3 4 3, 4 5 1, 5 1 3, 其余满足条件的边都是冗余的，总权值为9.&nbsp;</div><br />
<div>以下同理。&nbsp;</div><br />
<p></p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>