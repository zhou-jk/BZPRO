<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Tree and Sets</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#3986. Tree and Sets</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MiB</span> <span class="ui label">时间限制：20 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=3986">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3986">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=3986">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>有一棵n个结点的树，每条边有个长度leni (1&le;leni&le;10000)。</div>
<div>有q个点集，每个点集给定两个整数u,d (1&le;u&le;n,1&le;d&le;109)，表示所有与u的距离不超过d的点（包括u）在这个点集中。</div>
<div>两个点之间的距离为它们之间的最短路径的长度。</div>
<div></div>
<div>要求构造一个DAG（有向无环图），满足：</div>
<div>1、这个DAG至少有n+q个点，至多有1200000(1.2&times;106)个点和2400000(2.4&times;106)条边</div>
<div>2、对于每一条边u&rarr;v，u&gt;n 且 u&ne;v</div>
<div>3、对于第i (1&le;i&le;q)个点集的每一个点x，第n+i个点到第x个点都有且仅有一条路径</div>
<div>4、对于不在第i (1&le;i&le;q)个点集的每一个点x，第n+i个点到第x个点都不存在路径</div>
<div></div>
<div>由于一些奇怪的原因，树上可能多了若干条边，但是这些边覆盖的树链不会重合，且不会存在自环。（即这棵树是仙人掌）</div>
<div></div>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>第一行三个整数n,m,q，其中m表示这棵仙人掌上一共有m条边。</div>
<div>接下来m行，每行三个整数u,v,len，表示u和v之间有一条长度为len的无向边。</div>
<div>接下来q行，每行两个整数u,d，第i行表示第i个点集。</div>
<div></div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>第一行两个整数V,E，表示你构造的DAG的点数和边数。</div>
<div>接下来E行，每行两个整数u,v，表示u到v有一条有向边。</div>
<div></div>
<div>！！！请注意输出文件的大小，不能超过32MB，否则会显示TLE！！！</div>
<div></div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>10 9 5<br />
2 1 9553<br />
3 2 8499<br />
4 3 5171<br />
5 1 7123<br />
6 3 1904<br />
7 5 5526<br />
8 7 5853<br />
9 6 6635<br />
10 8 7858<br />
6 4981<br />
7 14400<br />
3 21290<br />
4 9451<br />
10 16609</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>15 19<br />
11 6<br />
11 3<br />
12 7<br />
12 5<br />
12 1<br />
12 8<br />
12 10<br />
13 3<br />
13 6<br />
13 9<br />
13 4<br />
13 2<br />
13 1<br />
14 4<br />
14 3<br />
14 6<br />
15 10<br />
15 8<br />
15 7</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p><p>N&lt;=10000,N-1&lt;=m&lt;=2*N-2,Q&lt;=10000</p><br />
<p>尚无SPJ，请不要提交!</p><br />
<p></p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>