<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>[Usaco2017 Open]Switch Grass</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#4777. [Usaco2017 Open]Switch Grass</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：128 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=4777">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4777">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=4777">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>Farmer John has recently been experimenting with cultivating different types of grass on his farm, r</div>
<div>ealizing that different types of cows like different types of grass. However, he must be careful to&nbsp;</div>
<div>ensure that different types of grass are planted sufficiently far away from each-other, in order to&nbsp;</div>
<div>prevent them from being inextricably mixed.FJ's farm consists of Nfields (1&le;N&le;200,000), where M pa</div>
<div>irs of fields are connected by bi-directional pathways (1&le;M&le;200,000). Using these pathways, it is&nbsp;</div>
<div>possible to walk from any field to any other field. Each pathway has an integer length in the range&nbsp;</div>
<div>1&hellip;1,000,000. Any pair of fields will be linked by at most one direct pathway.In each field, FJ init</div>
<div>ially plants one of Ktypes of grass (1&le;K&le;N). Over time, however, he might decide to switch the gra</div>
<div>ss in some field to a different type. He calls this an &quot;update&quot; operation. He might perform several&nbsp;</div>
<div>updates over the course of time, which are all cumulative in nature.After each update, FJ would like</div>
<div>&nbsp;to know the length of the shortest path between two fields having different grass types. That is, a</div>
<div>mong all pairs of fields having different grass types, he wants to know which two are closest. Ideal</div>
<div>ly, this number is large, so he can prevent grass of one type from mixing with grass of another type</div>
<div>. It is guaranteed that the farm will always have at least two fields with different grass types.In&nbsp;</div>
<div>30 percent of the input cases, each field will be directly connected to at most 10 pathways.</div>
<div>
<div>给定一张带权无向图，每个点有一个颜色，每次改变一个点的颜色，要求你在操作后输出这个图中最近异色点对之</div>
<div>间的距离最近异色点对定义为：一对点颜色不同，且距离最小</div>
</div>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>The first line of input contains four integers, N, M, K, and Q, where Q is the number of updates (1</div>
<div>&le;Q&le;200,000). The next M lines describe the paths; each one contains three integers A, B, and L, in</div>
<div>dicating a path from field A to field B (both integers in the range 1&hellip;N) of length L. The next line</div>
<div>&nbsp;indicates the initial type of grass growing in each field (N integers in the range 1&hellip;K). Finally,&nbsp;</div>
<div>the last Q lines each describe an update, specified by two integers A and B, where the grass in fiel</div>
<div>d A is to be updated to type B</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>For each update, print the length of the shortest path between two fields with different types of grass</div>
<div>
<div>after the update is applied.</div>
</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>3 2 3 4<br />
1 2 3<br />
2 3 1<br />
1 1 2<br />
3 3<br />
2 3<br />
1 2<br />
2 2</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>1<br />
3<br />
3<br />
1<br />
</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>