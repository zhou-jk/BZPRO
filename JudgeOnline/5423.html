<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>数学基友</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#5423. 数学基友</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：512 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=5423">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=5423">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=5423">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>作为一个男女比例4:1的班级，fish的班上充满了的好伙 (ji) 伴 (you)，一共q对。上帝为之动容，决定送给每一</div>
<div>对好伙伴一些礼物--《数学之(ji)友》。上帝很调皮，把这些数学之友用绳子连了起来（不要问我是怎么连的），</div>
<div>每条绳子链接两本数学之友，细心的fish 发现这些数学之友和绳子构成了一棵无根树！可上帝不好意思让同学们</div>
<div>做太多的作业，决定少给他们一些，于是上帝对每一对好伙伴说：&quot;你们两个从这些数学基友挑出几本来做做就行</div>
<div>了。每人可以挑出形成一条链的数学之友，不过两个人可不能抢同一本哦，所以你们两个挑的链不能包含同一本数</div>
<div>学之友。&quot;这q对基友全部都是丧心病狂的学霸，他们希望获得尽量多的作业，同时因为两个人关系特别好，所以希</div>
<div>望获得的作业总数最多。上帝为每一对好基友提供了一棵树的数学基友让他们来挑，细心的fish 又发现，这些树</div>
<div>都是某一棵有n个节点的无根树的一部分，对于第i对基友，就是这棵树上以xi点为根、yi点所在的子树。现给出这</div>
<div>棵n个节点的树以及xi和yi，fish想知道每一对基友最多能获得多少本数学基友。</div>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>给定一棵n个节点的无根树，共q次询问，</div>
<div>每次询问给定两个节点xi和yi（可能xi=yi），</div>
<div>表示对&quot;以xi为根、节点yi所在子树&quot;询问以下答案：</div>
<div>在子树内找两条不相交的路径，使两条路径所包含的节点总数最多。</div>
<div>
<div>第1行一个整数n，表示这棵树的节点数，</div>
<div>第2到第n行每行两个整数x,y，表示树上x节点与y节点之间有一条边</div>
<div>第n+1行有一个整数q</div>
<div>接下来q行每行两个整数xi,yi，表示一次询问，xi,yi含义同题目描述</div>
<div>1&lt;=n&lt;=100000,1&lt;=q&lt;=200000,1&lt;=xi,yi&lt;=n</div>
</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>共q行，对于每个询问输出一行一个整数，表示两条路径包含的最多的节点总数</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>7<br />
1 2<br />
1 3<br />
3 4<br />
3 5<br />
4 7<br />
4 6<br />
3<br />
1 1<br />
7 3<br />
3 5</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>7<br />
4<br />
1<br />
【HIN】<br />
"不相交"指两条路径不共用同一个节点。<br />
一条路径可以为空（包含0个节点）或只包含1个节点。<br />
"以一个节点x为根，另一个节点y所在子树"指，这棵树以x为整棵树的根时，<br />
树上"以y作为根的子树"，具体可以参考样例。特别地，当x=y时表示整棵树。<br />
【样例解释】<br />
对于第一个询问，所询问的子树就是原树，两条路径可以为2-1-3-5和6-4-7，总节点数为7</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>