<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>[Usaco2017 Dec]A Pie for a Pie</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#5140. [Usaco2017 Dec]A Pie for a Pie</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：128 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=5140">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=5140">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=5140">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>
<div>Bessie and Elsie have each baked N pies (1&le;N&le;10^5). Each of the 2N pies has a tastiness value acco</div>
<div>rding to Bessie and a (possibly different) tastiness value according to Elsie.Bessie is thinking abo</div>
<div>ut giving one of her pies to Elsie. If Elsie receives a pie from Bessie, she will feel obligated to&nbsp;</div>
<div>give one of her pies to Bessie. So as to not appear stingy nor flamboyant, Elsie will try to pick a&nbsp;</div>
<div>pie that is at least as tasty (in Elsie's eyes) as the pie she received, but no more than D units ta</div>
<div>stier (0&le;D&le;10^9). Such a pie may not exist, in which case Elsie will adopt a pseudonym and exile h</div>
<div>erself to Japan.But if Elsie does give Bessie a pie in return, Bessie will similarly try to give Els</div>
<div>ie a pie which is at least as tasty but no more than DD units tastier (in Bessie's eyes) as the pie&nbsp;</div>
<div>Elsie just gave her. Should this be impossible, Bessie too will exile herself. Otherwise she will gi</div>
<div>ve her chosen pie to Elsie. This cycle will continue until one of the cows is exiled, an unhappy out</div>
<div>come, or one of the cows receives a pie which she accords a tastiness value of 0, in which case the&nbsp;</div>
<div>gift exchange will end and both cows will be happy.Note that a pie may not be gifted twice, nor can&nbsp;</div>
<div>either cow return a pie gifted to her.For each of the NN pies Bessie could select as her initial gif</div>
<div>t to Elsie, determine the minimum number of pies that could possibly be gifted in the resulting exch</div>
<div>ange before the cows are happy.</div>
<div>两只牛，牛A和牛B，他们对水果派的品味不同，每个人都有n&lt;=1e5个派，每个派都有两种得分a[i], b[i]，其中a[</div>
<div>i]是牛A对该派的评分，b[i]是牛B的评分, 0 &lt;= a[i], b[i] &lt;= 1e9。两只牛开始礼尚往来，从牛A开始，它选一</div>
<div>个pie给牛B，设这个pie的评分是(a[i], b[i])。此时牛B为了不失礼节（不太小气，也不要太谄媚）要选出一个B</div>
<div>评分在[b[i], b[i]+d]范围内的pie(a[j], b[j])，给A。同理，A又要选出一个A评分在[a[j], a[j]+d]范围内的pi</div>
<div>e给B，如此往复。每个pie都只能传递一次。如果A收到了一个A评分为0的pie，或者B收到了一个B评分为0的pie，</div>
<div>那么礼尚往来就愉快的结束了。否则，就不愉快结束（即一个人无法选出合法的pie给对方时）。下面让你输出，</div>
<div>对于A的每一个pie，如果第一轮A把这个pie交给B，礼尚往来最少可以几轮愉快结束？如果无法愉快结束，就输出-1</div>
</div>
<div></div>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>The first line contains the two integers N and D.</div>
<div>The next 2N lines contain two space-separated integers each,&nbsp;</div>
<div>respectively denoting the value of a particular pie according to Bessie, and the value of that pie according to Elsie.</div>
<div>The first N lines refer to Bessie's pies, and the remaining N lines refer to Elsie's pies.</div>
<div>It is guaranteed that all tastiness values are in the range [0,10^9]</div>
<div></div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>There should be N lines in the output.&nbsp;</div>
<div>Line i should contain a single integer: the minimum number of pies that could be gifted in a happy gift&nbsp;</div>
<div>exchange started with Bessie's pie i.&nbsp;</div>
<div>If no gift exchange starting with pie i is happy, then line i should contain the single integer -1 instead.</div>
<div></div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>2 1<br />
1 1<br />
5 0<br />
4 2<br />
1 4</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>3<br />
1</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>