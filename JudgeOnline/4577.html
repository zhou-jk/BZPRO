<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>[Usaco2016 Open]Bull in a China Shop</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#4577. [Usaco2016 Open]Bull in a China Shop</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MiB</span> <span class="ui label">时间限制：40 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=4577">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4577">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=4577">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>农夫约翰决定他的家里需要更多的装饰。通过参观当地的瓷器商店，他决定购买一个精致的玻璃牛雕像，他知道它</div>
<div>将完全适合放在壁炉上方的壁炉架上。牛雕像的形状由一个N&times;M的字符网格（就像下图）描述（3&le;N，M&le;500），</div>
<div>其中小写字母描述了雕像的每个部分（表示不同的颜色），'.'字符则不是。</div>
<div></div>
<div>...............</div>
<div>...............</div>
<div>x..x...........</div>
<div>xxxx...........</div>
<div>xxxxaaaaaaa...</div>
<div>.xx.aaaaaaaaa..</div>
<div>....aaaaaaa.aa.</div>
<div>....ll...ll....</div>
<div>....vv...vv....</div>
<div>...............</div>
<div></div>
<div>不幸的是，在FJ正准备购买之前，一头公牛穿过商店，不仅打破了FJ的雕像，而且还打破了货架上的许多其他玻璃</div>
<div>制品！ FJ的雕像碎成了3片，很快地散落在总共有K块碎片的地面上（4&le;K&le;100）。每块碎片由一个字符网格描述</div>
<div>，就像描述原来的雕像那样。请帮助FJ确定多少个3块碎片的集合（落在地板上的K块碎片中的其中3块）可以胶合</div>
<div>在一起修补成他的破碎的雕像。地面上的碎片可能已经水平或垂直翻转，或者旋转成了90度的几倍。因此，给定原</div>
<div>始网格以及描述K块碎片的网格，您需要找到3片碎片可以连接在一起以形成原始图像的集合，允许这些碎片被平移</div>
<div>，翻转或旋转90度的倍数。然后当叠加时，3个碎片应该准确地形成原始图形，原始图形中的每个彩色正方形正好</div>
<div>表示其中一片。</div>
<div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>第一行包含单个整数K,接下来有K+1个描述片段，第一个片段描述了原始的玻璃牛，剩下的K个片段描述了K块碎片。</div>
<div>对于每个描述片段，第一行包含两个整数R和C（1&le;R，C&le;100），接下来R行每行C个小写字母或者是'.'。</div>
<div>每个碎片都将被水平/垂直连接并且具有至少一个非空单元（即至少包含一个小写字母）。</div>
<div></div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>
<div>输出三元组i，j，k的数目（i &lt;j &lt;k），使得碎片i，j，k可以被拼接为原始的玻璃牛。</div>
</div>
<p></p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>5<br />
5 5<br />
aaaaa<br />
..a..<br />
bbabb<br />
..a..<br />
aaaaa<br />
3 5<br />
..abb<br />
..a..<br />
aaaaa<br />
5 2<br />
a.<br />
a.<br />
aa<br />
a.<br />
a.<br />
1 2<br />
bb<br />
1 5<br />
bbabb<br />
2 5<br />
aaaaa<br />
..a..</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>3<br />
//共有三个解决方案，分别使用碎片（1,2,3），（1,3,5），（2,4,5）。</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>