<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>Which Dreamed It</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#3659. Which Dreamed It</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：512 MiB</span> <span class="ui label">时间限制：20 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=3659">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3659">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=3659">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div><span style="font-size: medium">有n个房间，每个房间有若干把钥匙能够打开特定房间的门。</span></div>
<div><span style="font-size: medium">你会做这么件事情：</span></div>
<div><span style="font-size: medium">最初你在房间1。</span></div>
<div><span style="font-size: medium">每当你到达一个房间，你可以选择该房间的一把钥匙，前往该钥匙对</span></div>
<div><span style="font-size: medium">应的房间，并将该钥匙丢到垃圾桶中。</span></div>
<div><span style="font-size: medium">你希望：最终回到房间1，且垃圾桶中有所有的钥匙。</span></div>
<div><span style="font-size: medium">求方案数。两组方案不同，当且仅当使用钥匙的顺序不同。注意，每</span></div>
<div><span style="font-size: medium">把钥匙都是不同的。</span></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>&nbsp;<span style="font-size: medium">有多组数据。</span></div>
<div><span style="font-size: medium">对于每组数据第一行输入一个数n，表示房间数。</span></div>
<div><span style="font-size: medium">接下来n行依次描述每个房间：</span></div>
<div><span style="font-size: medium">首先一个数s，表示这个房间的钥匙数目，接下来s个数，分别描述每把</span></div>
<div><span style="font-size: medium">钥匙能够打开的房间的门。</span></div>
<div><span style="font-size: medium">输入以n-0结尾。</span></div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div><span style="font-size: medium">对于每组数据，输出方案数，为了方便你的输出，请将答案对1000003取</span><span style="font-size: medium">模。</span></div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>1<br />
0<br />
2<br />
1 1<br />
1 2<br />
0<br />
</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata> 1<br />
0<br />
</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p><p><span style="font-size: medium">在第一组样例中，没有钥匙，则方案数为1。<br /><br />
在第二组样例中，你不可能使用第二个房间的钥匙，所以方案数为0。<br /><br />
<br /><br />
&nbsp;<br /><br />
&nbsp;<br /><br />
房间数小于等于100，钥匙数小于等于200000。<br /><br />
数据组数也不是特别多。</span></p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>