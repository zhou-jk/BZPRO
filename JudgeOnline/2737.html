<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>电子对撞机</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#2737. 电子对撞机</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MiB</span> <span class="ui label">时间限制：30 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=2737">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=2737">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=2737">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div id="pcont1" style="margin-top: 20px; display: block">
<div class="pdcont"><span style="font-size: medium">　　感谢HQ提供题目描述<br />
　　Q国最近科学技术不断进步，经过不懈努力，Q国主席QQ终于在质子对撞机的基础上研发了新一代能量供给装置：电子对撞机。<br />
　　这个设备呈长条状且对外封闭，设备内部有N个带有一定能量的电子。长条状的外形使得这些电子只能沿条形走向左右运动。设备长度为L，左端位置为0，右端位置为L。内部的电子速率恒定，每一个单位时间在左右方向上移动一个单位长度，而方向可能是向左或向右。当两个电子相遇即运动到同一个点时，它们之间会发生对撞，对撞后它们的速率不变但运动方向反向。设备的两个端点处(即坐标为0和L的位置)存在保护外壳，当电子运动到端点时会和外壳发生碰撞，碰撞后电子也会保持不变的速率但运动方向反向。电子分为高能电子和低能电子，电子之间对撞会产生能量，低能电子和低能电子对撞会产生1个单位的能量，低能电子和高能电子对撞会产生4个单位的能量，高能电子和高能电子对撞会产生25个单位的能量，电子和外壳碰撞不会产生能量。设备内部还有M个能量接收器，每个接收器可以接受从A到B的一个区间内（包括两个端点）的能量，且接收器可以接受的范围没有交集。若电子对撞的位置处于接收器的接受范围内，对撞产生的能量会被接收器接受，若对撞位置不在接收器上，这些能量则会丢失。这项技术的核心在于：对撞时电子的能量不会有损失，所以电子对撞机可以一直不断地运行下去供给能量。<br />
　　现在QQ已经制造出了第一批电子对撞机，并测得了时刻为0时电子的位置和运动状态，现在QQ想知道从时刻0到时刻T(包括T)总共接收到的能量，于是这个任务交给了神犇你。<br />
</span></div>
</div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div class="pdcont"><span style="font-size: medium">　　第一行四个整数 N, M, L, T，分别表示电子个数，能量接收器个数，设备长度和时间。<br />
　　之后N行每行3个整数，Xi, Pi, Ei分别表示第i个电子的位置，运动方向和能量级别。<br />
　　Pi为1表示向右运动，为-1表示向左运动。<br />
　　Ei为0表示低能电子，为1表示高能电子。<br />
　　之后M行每行2个整数，Ai和 Bi，表示接收器的接收范围。<br />
</span></div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div class="pdcont"><span style="font-size: medium">　　仅一行，包括一个整数，表示总共接收到的能量数。<br />
</span></div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>3 1 8 7<br />
2 1 0<br />
4 -1 0<br />
7 1 1<br />
3 6<br />
</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>5<br />
<br />
样例说明<br />
　　T=1时，在位置3，第一个电子和第二个电子对撞，产生1的能量。<br />
　　在位置8，第三个电子和右侧外壳碰撞。<br />
　　T=3.5时，在位置5.5，第二个电子和第三个电子对撞，产生4的能量。<br />
　　T=4时，在位置0，第一个电子和左侧外壳碰撞。<br />
　　T=6时，在位置8，第三个电子和右侧外壳碰撞。<br />
　　T=6.5时，在位置2.5，第一个电子和第二个电子对撞，产生1的能量，由于在接收器范围外，能量丢失。<br />
　　最后结果为1+4=5个单位能量。<br />
</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p><p><img alt="" src="upload/201205/11(1).jpg" /></p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>