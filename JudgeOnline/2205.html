<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>神奇的地图</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#2205. 神奇的地图</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：259 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=2205">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=2205">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=2205">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">在Starcraft某个古怪的薇操地图中，你被要求在一个狭窄的高地上用1个marine来打败2只zergling。由于你认为这是不可能完成的任务，你打算编程验证这一点。
为了方便处理，你抽象出了这样一个模型：
作为战场的狭窄高低可以认为是一个5*5的方格阵，每个方格可能是“可通过”和“不可通过”两种情况。marine和zergling总是占据其中的一个可通过方格。两个zergling可以处于同一方格，但任意时刻，marine不能任一未死亡的zergling处于同一方格。marine和zergling均拥有生命值(HP)，marine的初始生命值为m，所有zerglint的初始生命值均为z。
游戏可以抽象为回合制，在每个回合中，marine首先行动。marine可以选择沿竖直或水平方向移动一格，或站在原地朝某只zergling开枪（由于高低非常狭窄，marine可以集中处于高地任何位置的zergling）。marine的每一枪会减少目标zergling得生命值1点，当一只zergling得生命值降低到0点或以下时会死亡。
marine行动完毕后，所有尚未死亡的zergling会同时行动，如果某只zergling和marine相邻，它会攻击marine，否则它会沿着自己当前位置到marine当前位置的最短路前进一格，如果有多条最短路，zergling会按左、上、右、下的顺序一次尝试行动（例如如果左、上都是最短路，zergling会向左走）如果两只zergling同时在同一格攻击marine，marine的生命值只会减少1点，否则每只zergling的攻击都会使marine的生命值减少1点。
当某个回合结束时，若zergling全部死亡则认为游戏胜利，若marine的低到0点或以下，或者游戏进行了34个回合但仍未胜利则认为游戏失败。
你需要判定游戏是否可能取得胜利，如果可能，输出取得胜利的最少回合数。
</div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content>输入文件的前5行有5个字符，表示战场每个方格的情况。
字符“1”表示对应方格不可通过，其他字符表示对应方格可通过。大写字母“M”表示marine初始位置，大小写字母“Z”和“z”表示两只zergling的初始位置。
输入文件的第6行有两个整数m、z，分别表示marine的初始生命值和zergling的初始生命值。1< = m < = 16，1< = z< =99</div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content>如果游戏可以取得胜利，输出一行“WIN”，并在第二行输出一个整数，表示取得胜利需要的最少回合数。否则输出一行“LOSE”</div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>zZ000 <br />
11110 <br />
00M10 <br />
01100 <br />
00000 <br />
15 15 </span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>WIN <br />
30 </span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>