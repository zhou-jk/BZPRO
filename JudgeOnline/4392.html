<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>[Usaco2015 dec]Counting Haybales</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#4392. [Usaco2015 dec]Counting Haybales</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：128 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=4392">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4392">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=4392">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><p>Farmer John is trying to hire contractors to help rearrange his farm, but so far all of them have quit when they saw the complicated sequence of instructions FJ wanted them to follow. Left to complete the project by himself, he realizes that indeed, he has made the project perhaps more complicated than necessary. Please help him follow his instructions to complete the farm upgrade.<br />
<br />
FJ's farm consists of NN fields in a row, conveniently numbered 1&hellip;N1&hellip;N. In each field there can be any number of haybales. Farmer John's instructions contain three types of entries:<br />
<br />
1) Given a contiguous interval of fields, add a new haybale to each field.<br />
<br />
2) Given a contiguous interval of fields, determine the minimum number of haybales in a field within that interval.<br />
<br />
3) Given a contiguous interval of fields, count the total number of haybales inside that interval.</p>
<p>农夫约翰打算重修他的农场。他有 N 块土地，连续排列成一行，标号为 1&hellip;N。在每块土地上有任意数量的草堆。他可以发出三种指令：<br />
1) 对一个连续区间的土地，每块土地增加相同数量的草堆。<br />
2) 对一个连续区间的土地，输出其中最少的草堆数量。<br />
3) 对一个连续区间的土地，输出草堆数量总数。<br />
<br />
第一行两个正整数，N (1&le;N&le;200,000) 和 Q (1&le;Q&le;100,000)。<br />
下一行是N个非负整数，最大100,000，表示每块土地上有多少个草堆。<br />
以下Q行，每行一单个大写字母开头(M，P或S)，空格后跟随两个正整数 A 和 B (1&le;A&le;B&le;N), 或者三个正整数 A, B, 和 C (1&le;A&le;B&le;N; 1&le;C&le;100,000)。当且仅当第一个字母是 P 时，是三个正整数。<br />
当该字母是M，输出区间A&hellip;B的最小草堆数。<br />
当该字母是P，在区间A&hellip;B，每块土地增加C堆草。<br />
当该字母是M，输出区间A&hellip;B的草堆数之和。<br />
<br />
每行一个数字，用于响应'M' 或 'S' 命令。</p>
<p></p></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><p>The first line contains two positive integers, N (1&le;N&le;200,000) and Q (1&le;Q&le;100,000).<br />
<br />
The next line contains N nonnegative integers, each at most 100,000, indicating how many haybales are initially in each field.<br />
<br />
Each  of the next Q lines contains a single uppercase letter, either M, P or  S, followed by either two positive integers AA and BB (1&le;A&le;B&le;N), or  three positive integers AA, BB, and CC (1&le;A&le;B&le;N; 1&le;C&le;100,000). There  will be three positive integers if and only if the uppercase letter is  P.<br />
<br />
If the letter is M, print the minimum number of haybales in the interval of fields from A&hellip;B.<br />
<br />
If the letter is P, put C new haybales in each field in the interval of fields from A&hellip;B.<br />
<br />
If the letter is S, print the total number of haybales found within interval of fields from A&hellip;B.</p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><p>A line in the output should appear in response to every 'M' or 'S' entry in FJ's instructions.</p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>4 5<br />
3 1 2 4<br />
M 3 4<br />
S 1 3<br />
P 2 3 1<br />
M 3 4<br />
S 1 3</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>2<br />
6<br />
3<br />
8</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>