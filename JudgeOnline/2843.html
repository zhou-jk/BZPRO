<html><head><meta charset="utf-8"/><link rel="icon" href="../image/logo32x32.png" sizes="32x32" /><link rel="icon" href="../image/logo192x192.png" sizes="192x192" /><link rel="stylesheet" type="text/css" href="../Semantic/semantic.min.css"><script src="../Semantic/jquery.min.js" type="text/javascript"></script><script src="../Semantic/semantic.min.js" type="text/javascript"></script><title>极地旅行社</title></head><body><div class="ui three item menu"><a class="header item" href="../index.html"><img src="../image/logo.png"><span style="font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif; font-size: 1.3em; font-weight: 300; ">BZPRO</span></a></div><div class="ui main container"><div class="ui center aligned grid"><div class="row"><h1 class="ui header">#2843. 极地旅行社</h1></div><div class="row" style="margin-top: -15px"><span class="ui label">内存限制：256 MiB</span> <span class="ui label">时间限制：10 Sec</span></div></div><div class="ui grid"><div class="row"><div class="column"><div class="ui buttons"><a class="small ui primary button" href="https://www.lydsy.com/JudgeOnline/submitpage.php?id=2843">提交</a> <a class="small ui positive button" href="https://www.lydsy.com/JudgeOnline/problemstatus.php?id=2843">提交记录</a> <a class="small ui yellow button" href="https://www.lydsy.com/JudgeOnline/wttl/wttl.php?pid=2843">讨论</a></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">题目描述</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div>不久之前，Mirko建立了一个旅行社，名叫&ldquo;极地之梦&rdquo;。这家旅行社在北极附近购买了N座冰岛，并且提供观光服</div>
<div>务。当地最受欢迎的当然是帝企鹅了，这些小家伙经常成群结队的游走在各个冰岛之间。Mirko的旅行社遭受一次</div>
<div>重大打击，以至于观光游轮已经不划算了。旅行社将在冰岛之间建造大桥，并用观光巴士来运载游客。Mirko希望</div>
<div>开发一个电脑程序来管理这些大桥的建造过程，以免有不可预料的错误发生。这些冰岛从1到N标号。一开始时这些</div>
<div>岛屿没有大桥连接，并且所有岛上的帝企鹅数量都是知道的。每座岛上的企鹅数量虽然会有所改变，但是始终在[0</div>
<div>, 1000]之间。你的程序需要处理以下三种命令：</div>
<div>1.&quot;bridge A B&quot;&mdash;&mdash;在A与B之间建立一座大桥（A与B是不同的岛屿）。由于经费限制，这项命令被接受，当且仅当</div>
<div>A与B不联通。若这项命令被接受，你的程序需要输出&quot;yes&quot;，之</div>
<div>后会建造这座大桥。否则，你的程序需要输出&quot;no&quot;。</div>
<div>2.&quot;penguins A X&quot;&mdash;&mdash;根据可靠消息，岛屿A此时的帝企鹅数量变为X。这项命令只是用来提供信息的，你的程序不</div>
<div>需要回应。</div>
<div>3.&quot;excursion A B&quot;&mdash;&mdash;一个旅行团希望从A出发到B。若A与B连通，你的程序需要输出这个旅行团一路上所能看到的</div>
<div>帝企鹅数量（包括起点A与终点B），若不联通，你的程序需要输出&quot;impossible&quot;。</div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输入格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><div>第一行一个正整数N，表示冰岛的数量。</div>
<div>第二行N个范围[0, 1000]的整数，为每座岛屿初始的帝企鹅数量。</div>
<div>第三行一个正整数M，表示命令的数量。接下来M行即命令，为题目描述所示。</div>
<div>1&lt;=N&lt;=30000,1&lt;=M&lt;=100000</div></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">输出格式</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><div class=content><p>对于每个bridge命令与excursion命令，输出一行，为题目描述所示。</p></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">样例</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;"><h4>样例输入</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>5<br />
4 2 4 5 6<br />
10<br />
excursion 1 1<br />
excursion 1 2<br />
bridge 1 2<br />
excursion 1 2<br />
bridge 3 4<br />
bridge 3 5<br />
excursion 4 5<br />
bridge 1 3<br />
excursion 2 4<br />
excursion 2 5</span></div></code></pre></div><h4>样例输出</h4><div class="ui existing segment"><pre style="margin-top:0; margin-bottom:0;"><code class="lang-plain">
			<div class=content><span class=sampledata>4<br />
impossible<br />
yes<br />
6<br />
yes<br />
yes<br />
15<br />
yes<br />
15<br />
16<br />
</span></div></code></pre></div></div></div></div></div><div class="row"><div class="column"><h4 class="ui top attached block header">数据范围与提示</h4><div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden;">
			<div class=content><p></p></div></div></div></div></div></div></div><div class="ui vertical footer segment"><div class="ui center aligned container"><span style="color: #999;">BZPRO Powered by Remmina.</span><br/><a href="https://github.com/remmina/BZPRO">Github Repository</a></div></div></body></html>